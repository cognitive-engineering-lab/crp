var Telemetry=function(i){"use strict";var b=Object.defineProperty;var p=(i,t,c)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[t]=c;var m=(i,t,c)=>p(i,typeof t!="symbol"?t+"":t,c);const t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).slice(1));function c(e,n=0){return(t[e[n+0]]+t[e[n+1]]+t[e[n+2]]+t[e[n+3]]+"-"+t[e[n+4]]+t[e[n+5]]+"-"+t[e[n+6]]+t[e[n+7]]+"-"+t[e[n+8]]+t[e[n+9]]+"-"+t[e[n+10]]+t[e[n+11]]+t[e[n+12]]+t[e[n+13]]+t[e[n+14]]+t[e[n+15]]).toLowerCase()}let l;const g=new Uint8Array(16);function a(){if(!l){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");l=crypto.getRandomValues.bind(crypto)}return l(g)}const u={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function y(e,n,r){var d;if(u.randomUUID&&!e)return u.randomUUID();e=e||{};const o=e.random??((d=e.rng)==null?void 0:d.call(e))??a();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,c(o)}function h(){const e="__telemetry_session";return localStorage.getItem(e)===null&&localStorage.setItem(e,y()),localStorage.getItem(e)}class s{constructor(n,r,o){m(this,"sessionId");this.url=n,this.commitHash=r,this.branch=o,this.sessionId=h()}log(n,r){let o={sessionId:this.sessionId,commitHash:this.commitHash,timestamp:new Date().getTime(),payload:r},d=`${this.url}/crp_${n}`;console.debug(`Logging to ${d}:`,o),fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})}}return typeof window<"u"&&(window.telemetry=new s("https://rust-book.willcrichton.net/logs","f394c1c92ff7c42d8eadb00f8c8d81404bd9f94c","main")),i.Telemetry=s,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),i}({});
